<script setup lang="ts">
import type { Earth } from './Earth'
import { withBase } from 'vitepress'
import { mdrender } from '@/utils'

defineProps<{
  earth: Earth
}>()
</script>

<template>
  <div class="absolute left-2 top-2 bg-black/70 rounded px-3 max-w-72 w-full z-10">
    <div class="breadcrumbs text-xs text-gray-400 pt-3 pb-1">
      <ul>
        <li><a :href="withBase('/')">Kuwasidian</a></li>
        <li><a :href="withBase('/earth/')">Earth</a></li>
      </ul>
    </div>

    <h3 class="text-white text-lg font-bold">
      äººå£åˆ†å¸ƒï¼ˆ2020ï¼‰
    </h3>

    <div class="text-xs prose">
      <div
        v-html="mdrender(`
          ç·äººå£ï¼š**${Math.floor(earth.totalPopulation.value).toLocaleString()}** äºº
        `)"
      />

      <label class="block">
        ğŸ“Š äººå£è¡¨ç¤ºï¼š
        <input
          type="checkbox"
          :checked="earth.isPopulationLayerVisible.value"
          class="toggle"
          @change="earth.togglePopulationLayer"
        >
      </label>

      <label class="block">
        ğŸ›°ï¸ èˆªç©ºå†™çœŸï¼š
        <input
          type="checkbox"
          :checked="earth.isSurfaceLayerVisible.value"
          class="toggle"
          @change="earth.toggleSurfaceLayer"
        >
      </label>

      <div
        v-html="mdrender(`
          *100äººä»¥ä¸‹ã®åŒºç”»ã¯ã‚°ãƒ©ãƒ•è¡¨ç¤ºã‹ã‚‰é™¤å¤–
          ãƒ‡ãƒ¼ã‚¿å‡ºå…¸ï¼š[WorldPop :: Population Counts](https://hub.worldpop.org/geodata/summary?id=31939)
        `)"
      />
    </div>
  </div>
</template>
